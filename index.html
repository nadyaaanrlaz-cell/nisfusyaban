<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gema Nisfu Sya'ban - Maaf & Doa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            min-height: 100vh;
        }
        .arabic {
            font-family: 'Amiri', serif;
        }
        .card-glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
        }
        .gradient-text {
            background: linear-gradient(to right, #fbbf24, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn-primary {
            background: linear-gradient(to right, #059669, #10b981);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
        #ecard-preview {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1509114397022-ed747cca3f65?auto=format&fit=crop&q=80&w=800');
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <!-- Header Section -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 gradient-text">Nisfu Sya'ban 1447H</h1>
            <p class="text-slate-400 text-lg">Malam Pengampunan, Lembaran Baru, Doa yang Dikabulkan.</p>
        </header>

        <!-- Stats / Countdown Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="card-glass p-6 text-center">
                <p class="text-sm text-slate-400 uppercase tracking-wider mb-2">Countdown</p>
                <div id="countdown" class="text-2xl font-bold text-amber-400">Memuat...</div>
            </div>
            <div class="card-glass p-6 text-center">
                <p class="text-sm text-slate-400 uppercase tracking-wider mb-2">Status Amalan</p>
                <div id="amalan-progress" class="text-2xl font-bold text-emerald-400">0/3 Selesai</div>
            </div>
            <div class="card-glass p-6 text-center">
                <p class="text-sm text-slate-400 uppercase tracking-wider mb-2">Tanggal</p>
                <div class="text-xl font-bold">15 Sya'ban 1447 H</div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Tab Navigation -->
            <div class="space-y-6">
                <div class="card-glass p-4 flex gap-2 overflow-x-auto">
                    <button onclick="switchTab('generator')" class="tab-btn px-4 py-2 rounded-lg bg-emerald-600/20 text-emerald-400 border border-emerald-500/50 whitespace-nowrap">Pembuat Kartu</button>
                    <button onclick="switchTab('amalan')" class="tab-btn px-4 py-2 rounded-lg hover:bg-white/5 whitespace-nowrap">Daftar Amalan</button>
                </div>

                <!-- Card Generator Section -->
                <div id="tab-generator" class="tab-content">
                    <div class="card-glass p-6 space-y-4">
                        <h2 class="text-xl font-semibold mb-4">Buat Ucapan Kustom</h2>
                        <div>
                            <label class="block text-sm text-slate-400 mb-1">Nama Anda</label>
                            <input type="text" id="input-name" placeholder="Masukkan nama..." class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 focus:outline-none focus:border-emerald-500" oninput="updateCard()">
                        </div>
                        <div>
                            <label class="block text-sm text-slate-400 mb-1">Pesan Maaf</label>
                            <textarea id="input-message" rows="3" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 focus:outline-none focus:border-emerald-500" oninput="updateCard()">Mohon maaf lahir dan batin atas segala khilaf dan salah. Semoga doa-doa kita di malam mulia ini dikabulkan Allah SWT.</textarea>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="copyText()" class="flex-1 btn-primary p-3 rounded-lg font-semibold">Salin Teks Ucapan</button>
                            <button onclick="randomQuote()" class="bg-slate-700 hover:bg-slate-600 px-4 rounded-lg">✨ Acak</button>
                        </div>
                    </div>
                </div>

                <!-- Amalan Section -->
                <div id="tab-amalan" class="tab-content hidden">
                    <div class="card-glass p-6 space-y-4">
                        <h2 class="text-xl font-semibold mb-4">Amalan Malam Nisfu Sya'ban</h2>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition">
                                <input type="checkbox" class="amalan-check w-5 h-5 accent-emerald-500 mr-3" onchange="checkAmalan()">
                                <span>Shalat Sunnah & Yasin 3x</span>
                            </label>
                            <label class="flex items-center p-3 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition">
                                <input type="checkbox" class="amalan-check w-5 h-5 accent-emerald-500 mr-3" onchange="checkAmalan()">
                                <span>Memperbanyak Istighfar & Dzikir</span>
                            </label>
                            <label class="flex items-center p-3 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition">
                                <input type="checkbox" class="amalan-check w-5 h-5 accent-emerald-500 mr-3" onchange="checkAmalan()">
                                <span>Berdoa Khusyuk Sehabis Maghrib</span>
                            </label>
                        </div>
                        <p class="text-sm text-slate-400 italic mt-4 text-center">"Sesungguhnya Allah SWT turun ke langit dunia pada malam nisfu Sya'ban..." (HR Tirmidzi)</p>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="sticky top-8">
                <div id="ecard-preview" class="aspect-square w-full rounded-[2rem] p-8 flex flex-col justify-center items-center text-center shadow-2xl relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-full border-[15px] border-amber-500/20 pointer-events-none"></div>
                    
                    <div class="arabic text-3xl text-amber-400 mb-6">ليلة نصف شعبان</div>
                    
                    <h3 class="text-2xl font-bold mb-4">Selamat Menyambut <br>Malam Nisfu Sya'ban</h3>
                    
                    <p id="preview-message" class="text-slate-200 leading-relaxed mb-6 italic">Mohon maaf lahir dan batin atas segala khilaf dan salah. Semoga doa-doa kita di malam mulia ini dikabulkan Allah SWT.</p>
                    
                    <div class="mt-4">
                        <span class="text-slate-400 text-sm">Dari:</span>
                        <p id="preview-name" class="font-bold text-amber-400 text-xl tracking-wide">[Nama Anda]</p>
                    </div>
                </div>
                
                <p class="text-center text-slate-500 mt-4 text-sm">Ambil tangkapan layar (screenshot) untuk membagikan kartu ini.</p>
            </div>

        </div>

        <!-- Footer -->
        <footer class="mt-20 text-center text-slate-500 pb-10">
            <p>© 2026 Gema Nisfu Sya'ban. Dibuat dengan penuh doa.</p>
        </footer>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-emerald-600 text-white px-6 py-3 rounded-full opacity-0 pointer-events-none transition-all">
        Teks berhasil disalin!
    </div>

    <script>
        // Data Quotes
        const quotes = [
            "Mohon maaf lahir dan batin atas segala khilaf. Semoga buku amal kita diisi dengan kebaikan baru di malam yang mulia ini.",
            "Di malam Nisfu Sya'ban ini, mari kita saling memaafkan agar doa kita melangit tanpa penghalang. Maafkan segala salahku ya.",
            "Semoga Allah mengampuni dosa-dosa kita dan menerima setiap sujud kita di malam penuh berkah ini. Mohon maaf lahir batin.",
            "Menjelang malam penutupan buku amal, izinkan saya memohon maaf atas lisan dan perbuatan yang kurang berkenan."
        ];

        // Countdown Logic (Target: 14 Feb 2026 - Perkiraan Nisfu Syaban 1447)
        function updateCountdown() {
            const target = new Date("Feb 14, 2026 18:00:00").getTime();
            const now = new Date().getTime();
            const distance = target - now;

            if (distance < 0) {
                document.getElementById("countdown").innerHTML = "Malam Sedang Berlangsung";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

            document.getElementById("countdown").innerHTML = `${days}h ${hours}j ${minutes}m`;
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // UI Logic
        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('bg-emerald-600/20', 'text-emerald-400', 'border-emerald-500/50');
                b.classList.add('hover:bg-white/5');
            });

            const activeBtn = event.currentTarget;
            activeBtn.classList.remove('hover:bg-white/5');
            activeBtn.classList.add('bg-emerald-600/20', 'text-emerald-400', 'border-emerald-500/50');
            document.getElementById(`tab-${tab}`).classList.remove('hidden');
        }

        function updateCard() {
            const name = document.getElementById('input-name').value;
            const msg = document.getElementById('input-message').value;
            
            document.getElementById('preview-name').innerText = name || '[Nama Anda]';
            document.getElementById('preview-message').innerText = msg || 'Tulis pesan Anda...';
        }

        function randomQuote() {
            const random = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('input-message').value = random;
            updateCard();
        }

        function checkAmalan() {
            const checks = document.querySelectorAll('.amalan-check:checked').length;
            const total = document.querySelectorAll('.amalan-check').length;
            document.getElementById('amalan-progress').innerText = `${checks}/${total} Selesai`;
        }

        function copyText() {
            const name = document.getElementById('input-name').value;
            const msg = document.getElementById('input-message').value;
            const fullText = `*Ucapan Malam Nisfu Sya'ban*\n\n"${msg}"\n\nDari: ${name || 'Hamba Allah'}`;
            
            const el = document.createElement('textarea');
            el.value = fullText;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);

            const toast = document.getElementById('toast');
            toast.classList.replace('opacity-0', 'opacity-100');
            setTimeout(() => toast.classList.replace('opacity-100', 'opacity-0'), 2000);
        }
    </script>
</body>
</html>